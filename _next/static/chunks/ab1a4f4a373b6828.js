(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26073,e=>{"use strict";var t=e.i(43476),l=e.i(71645),s=e.i(85369);function r({editingItem:e,equipmentTypes:s,onSubmit:r,onCancel:a}){let[i,n]=(0,l.useState)({TypeId:"",Name:"",Description:"",ModelNumber:""});(0,l.useEffect)(()=>{e?n({TypeId:e.TypeId,Name:e.Name,Description:e.Description,ModelNumber:e.ModelNumber}):n({TypeId:"",Name:"",Description:"",ModelNumber:""})},[e]);let d=e=>{let{name:t,value:l}=e.target;n(e=>({...e,[t]:l}))};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:e?"Edit Equipment Model":"Add Equipment Model"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(i),n({TypeId:"",Name:"",Description:"",ModelNumber:""})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"TypeId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment Type"}),(0,t.jsxs)("select",{id:"TypeId",name:"TypeId",value:i.TypeId,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,t.jsx)("option",{value:"",children:"Select an equipment type"}),s.map(e=>(0,t.jsx)("option",{value:e.Id,children:e.Name},e.Id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"Name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",id:"Name",name:"Name",value:i.Name,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Enter model name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ModelNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model Number"}),(0,t.jsx)("input",{type:"text",id:"ModelNumber",name:"ModelNumber",value:i.ModelNumber,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Enter model number"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"Description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{id:"Description",name:"Description",value:i.Description,onChange:d,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Enter description (optional)"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:e?"Update":"Create"}),e&&(0,t.jsx)("button",{type:"button",onClick:a,className:"px-6 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors font-medium",children:"Cancel"})]})]})]})}function a({items:e,equipmentTypes:l,onEdit:s}){return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Model Number"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No equipment models found. Create one to get started."})}):e.map(e=>{var r;let a;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>s(e),children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(r=e.TypeId,(a=l.find(e=>e.Id===r))?a.Name:"Unknown")}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.Name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ModelNumber}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.Description})]},e.Id)})})]})})})}function i({imageUrl:e,onClose:l}){return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:l,children:(0,t.jsxs)("div",{className:"relative max-w-7xl max-h-full",children:[(0,t.jsx)("button",{onClick:l,className:"absolute -top-10 right-0 text-white hover:text-gray-300 text-4xl font-bold","aria-label":"Close",children:"Ã—"}),(0,t.jsx)("img",{src:e,alt:"Full size preview",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:e=>e.stopPropagation()})]})})}let n=["https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400","https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?w=400","https://images.unsplash.com/photo-1565008576549-57569a49371d?w=400","https://images.unsplash.com/photo-1581092160607-ee67e0e84086?w=400","https://images.unsplash.com/photo-1581092162384-8987c1d64718?w=400"];function d({modelId:e,editingItem:s,onSubmit:r,onCancel:a}){let[d,o]=(0,l.useState)({ModelId:e||"",Url:"",FileExtension:".jpg",FileSizeKB:0}),[c,m]=(0,l.useState)(null);return((0,l.useEffect)(()=>{s?o({ModelId:s.ModelId,Url:s.Url,FileExtension:s.FileExtension,FileSizeKB:s.FileSizeKB}):o({ModelId:e||"",Url:"",FileExtension:".jpg",FileSizeKB:0})},[s,e]),e)?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:s?"Edit Model Image":"Add Model Image"}),(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault(),r(d),o({ModelId:e||"",Url:"",FileExtension:".jpg",FileSizeKB:0})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),(0,t.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors",children:(0,t.jsxs)("div",{className:"space-y-1 text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,t.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,t.jsx)("span",{children:"Upload a file"}),(0,t.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",accept:"image/*",className:"sr-only",onChange:e=>{let t=e.target.files?.[0];if(t){let e=n[Math.floor(Math.random()*n.length)],l=Math.round(t.size/1024),s=`.${t.name.split(".").pop()}`||".jpg";o(t=>({...t,Url:e,FileExtension:s,FileSizeKB:l}))}}})]}),(0,t.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, WEBP up to 10MB"})]})}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=n[Math.floor(Math.random()*n.length)],t=Math.floor(500*Math.random())+100;o(l=>({...l,Url:e,FileSizeKB:t}))},className:"mt-2 w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors text-sm",children:"Use Random Demo Image"})]}),d.Url&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File Extension"}),(0,t.jsx)("input",{type:"text",value:d.FileExtension,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File Size (KB)"}),(0,t.jsx)("input",{type:"text",value:d.FileSizeKB,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"})]})]}),d.Url&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preview"}),(0,t.jsx)("img",{src:d.Url,alt:"Preview",className:"w-full h-48 object-cover rounded-md border border-gray-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>m(d.Url)}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Click image to view full size"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:s?"Update":"Add Image"}),s&&(0,t.jsx)("button",{type:"button",onClick:a,className:"px-6 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors font-medium",children:"Cancel"})]})]}),c&&(0,t.jsx)(i,{imageUrl:c,onClose:()=>m(null)})]}):(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,t.jsx)("p",{className:"text-gray-500 text-center",children:"Please select an equipment model to add images."})})}function o({items:e,onEdit:s}){let[r,a]=(0,l.useState)(null);return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,t.jsx)("h3",{className:"text-xl font-bold p-4 bg-gray-50 border-b border-gray-200 text-gray-800",children:"Model Images"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"URL"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Extension"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size (KB)"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No images found for this model. Add one to get started."})}):e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",onClick:()=>s(e),children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("img",{src:e.Url,alt:"Model preview",className:"h-16 w-16 object-cover rounded border border-gray-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:t=>{t.stopPropagation(),a(e.Url)}})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate cursor-pointer",title:e.Url,children:e.Url}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer",children:e.FileExtension}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer",children:e.FileSizeKB})]},e.Id))})]})}),r&&(0,t.jsx)(i,{imageUrl:r,onClose:()=>a(null)})]})}function c(){let[e,i]=(0,l.useState)([]),[n,c]=(0,l.useState)([]),[m,x]=(0,l.useState)([]),[u,p]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),[b,y]=(0,l.useState)(null);(0,l.useEffect)(()=>{f()},[]),(0,l.useEffect)(()=>{b?j(b):(c([]),g(null))},[b]);let f=()=>{let e=s.equipmentModelStorage.getAll(),t=s.equipmentTypeStorage.getAll();i(e),x(t)},j=e=>{c(s.equipmentModelImageStorage.getByModelId(e))};return(0,t.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Equipment Model Management"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(r,{editingItem:u,equipmentTypes:m,onSubmit:e=>{u?(s.equipmentModelStorage.update(u.Id,e),p(null)):s.equipmentModelStorage.create(e),f()},onCancel:()=>{p(null),y(null)}})}),(0,t.jsx)("div",{className:"lg:col-span-2 overflow-auto",children:(0,t.jsx)(a,{items:e,equipmentTypes:m,onEdit:e=>{p(e),y(e.Id)}})})]}),b?(0,t.jsxs)("div",{className:"mt-8 border-blue-500 pt-6",children:[(0,t.jsxs)("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-blue-900",children:["Managing Images for: ",(0,t.jsx)("span",{className:"text-blue-600",children:(()=>{if(!b)return null;let t=e.find(e=>e.Id===b);return t?`${t.Name} (${t.ModelNumber})`:null})()})]}),(0,t.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Add multiple images for this equipment model below."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(d,{modelId:b,editingItem:h,onSubmit:e=>{h?(s.equipmentModelImageStorage.update(h.Id,e),g(null)):s.equipmentModelImageStorage.create(e),b&&j(b)},onCancel:()=>{g(null)}})}),(0,t.jsx)("div",{className:"lg:col-span-2 overflow-auto",children:(0,t.jsx)(o,{items:n,onEdit:e=>{g(e)}})})]})]}):(0,t.jsx)("div",{className:"mt-8 border-t-4 border-gray-300 pt-6",children:(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Model Selected"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Select an equipment model from the table above to manage its images."})]})})]})}e.s(["default",()=>c],26073)}]);