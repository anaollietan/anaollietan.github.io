(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20995,e=>{"use strict";var t,a=((t={}).Available="Available",t.CheckedOut="CheckedOut",t.Deactivated="Deactivated",t);e.s(["EquipmentStatus",()=>a])},92130,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(20995),s=e.i(85369);function r({editingItem:e,equipmentModels:s,users:r,onSubmit:n,onCancel:i,onActivate:d,onDeactivate:u}){let o=r.find(e=>"Ollie Tan"===e.Name),c=o?.Id||"",[m,x]=(0,a.useState)({ModelId:"",Name:"",ReceivedAt:new Date().toISOString().split("T")[0],MaxCheckOutDays:7,InspectionInterval:30,CalibrationInterval:90,Status:l.EquipmentStatus.Available,UserId:c,OwnerTypeId:"",ReferenceId:"",GroupId:"",Description:"",SerialNumber:"",LastInspectedAt:null,LastCalibratedAt:null});(0,a.useEffect)(()=>{e?x({ModelId:e.ModelId,Name:e.Name,ReceivedAt:e.ReceivedAt,MaxCheckOutDays:e.MaxCheckOutDays,InspectionInterval:e.InspectionInterval,CalibrationInterval:e.CalibrationInterval,Status:e.Status,UserId:e.UserId,OwnerTypeId:e.OwnerTypeId,ReferenceId:e.ReferenceId,GroupId:e.GroupId,Description:e.Description,SerialNumber:e.SerialNumber,LastInspectedAt:e.LastInspectedAt,LastCalibratedAt:e.LastCalibratedAt}):x({ModelId:"",Name:"",ReceivedAt:new Date().toISOString().split("T")[0],MaxCheckOutDays:7,InspectionInterval:30,CalibrationInterval:90,Status:l.EquipmentStatus.Available,UserId:c,OwnerTypeId:"",ReferenceId:"",GroupId:"",Description:"",SerialNumber:"",LastInspectedAt:null,LastCalibratedAt:null})},[e,c]);let p=e=>{let{name:t,value:a}=e.target;x(e=>({...e,[t]:["MaxCheckOutDays","InspectionInterval","CalibrationInterval"].includes(t)?Number(a):a}))};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 overflow-y-auto max-h-[calc(100vh-12rem)]",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:e?"Edit Equipment":"Add Equipment"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(m)},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ModelId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment Model"}),(0,t.jsxs)("select",{id:"ModelId",name:"ModelId",value:m.ModelId,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,t.jsx)("option",{value:"",children:"Select a model"}),s.map(e=>(0,t.jsxs)("option",{value:e.Id,children:[e.Name," (",e.ModelNumber,")"]},e.Id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"UserId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned User"}),(0,t.jsxs)("select",{id:"UserId",name:"UserId",value:m.UserId,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,t.jsx)("option",{value:"",children:"No user assigned"}),r.map(e=>(0,t.jsx)("option",{value:e.Id,children:e.Name},e.Id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"Name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",id:"Name",name:"Name",value:m.Name,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Enter equipment name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"SerialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),(0,t.jsx)("input",{type:"text",id:"SerialNumber",name:"SerialNumber",value:m.SerialNumber,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Enter serial number"})]}),e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"Status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,t.jsxs)("select",{id:"Status",name:"Status",value:m.Status,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,t.jsx)("option",{value:l.EquipmentStatus.Available,children:"Available"}),(0,t.jsx)("option",{value:l.EquipmentStatus.CheckedOut,children:"Checked Out"}),(0,t.jsx)("option",{value:l.EquipmentStatus.Deactivated,children:"Deactivated"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ReceivedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),(0,t.jsx)("input",{type:"date",id:"ReceivedAt",name:"ReceivedAt",value:m.ReceivedAt,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"Description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{id:"Description",name:"Description",value:m.Description,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Enter description (optional)"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"submit",disabled:!e&&!m.ModelId,className:`flex-1 py-2 px-4 rounded-md transition-colors font-medium ${!e&&!m.ModelId?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e?"Update":"Create"}),e&&(0,t.jsx)("button",{type:"button",onClick:i,className:"px-6 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors font-medium",children:"Cancel"})]}),e&&(0,t.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:e.Status===l.EquipmentStatus.Deactivated?(0,t.jsx)("button",{type:"button",onClick:()=>d(e.Id),className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors font-medium",children:"Activate"}):(0,t.jsx)("button",{type:"button",onClick:()=>{confirm("Are you sure you want to deactivate this equipment?")&&u(e.Id)},className:"flex-1 bg-orange-600 text-white py-2 px-4 rounded-md hover:bg-orange-700 transition-colors font-medium",children:"Deactivate"})})]})]})}function n({items:e,equipmentModels:a,users:s,onEdit:r}){return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Model"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Serial Number"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned User"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Received Date"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No equipment found. Create one to get started."})}):e.map(e=>{var n,i;let d,u;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>r(e),children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.Name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(n=e.ModelId,(d=a.find(e=>e.Id===n))?`${d.Name} (${d.ModelNumber})`:"Unknown")}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.SerialNumber}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(e=>{if(!e)return"Unassigned";let t=s.find(t=>t.Id===e);return t?t.Name:"Unknown"})(e.UserId)}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(i=e.Status,u={[l.EquipmentStatus.Available]:"bg-green-100 text-green-800",[l.EquipmentStatus.CheckedOut]:"bg-yellow-100 text-yellow-800",[l.EquipmentStatus.Deactivated]:"bg-red-100 text-red-800"},(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u[i]}`,children:i}))}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.ReceivedAt).toLocaleDateString()})]},e.Id)})})]})})})}function i({statusFilter:e,userFilter:a,users:s,currentUserId:r,onStatusFilterChange:n,onUserFilterChange:i,onReset:d}){let u,o=[{value:"All",label:"All Status"},{value:l.EquipmentStatus.Available,label:"Available"},{value:l.EquipmentStatus.CheckedOut,label:"Checked Out"},{value:l.EquipmentStatus.Deactivated,label:"Deactivated"}],c=()=>e===l.EquipmentStatus.Available&&a===r;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-end gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,t.jsx)("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,t.jsx)("select",{id:"status-filter",value:e,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:o.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,t.jsx)("label",{htmlFor:"user-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),(0,t.jsxs)("select",{id:"user-filter",value:a,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,t.jsx)("option",{value:"",children:"All Users"}),s.map(e=>(0,t.jsx)("option",{value:e.Id,children:e.Name},e.Id))]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:d,disabled:c(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${c()?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500"}`,children:"Reset Filters"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active Filters:"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:(u=o.find(t=>t.value===e))?u.label:e}),(0,t.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:(e=>{if(!e)return"All Users";let t=s.find(t=>t.Id===e);return t?t.Name:"All Users"})(a)})]})]})}function d(){let[e,d]=(0,a.useState)([]),[u,o]=(0,a.useState)([]),[c,m]=(0,a.useState)([]),[x,p]=(0,a.useState)(""),[g,h]=(0,a.useState)(null),[b,f]=(0,a.useState)(0),[v,y]=(0,a.useState)(l.EquipmentStatus.Available),[N,j]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=s.equipmentStorage.getAll(),t=s.equipmentModelStorage.getAll(),a=s.userStorage.getAll(),l=s.userStorage.getCurrentUserId();d(e),o(t),m(a),p(l),j(l)},[]);let S=()=>{let e=s.equipmentStorage.getAll(),t=s.equipmentModelStorage.getAll(),a=s.userStorage.getAll();d(e),o(t),m(a)},I=e.filter(e=>{let t="All"===v||e.Status===v,a=!N||e.UserId===N;return t&&a});return(0,t.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Equipment Management"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(r,{editingItem:g,equipmentModels:u,users:c,onSubmit:e=>{g?(s.equipmentStorage.update(g.Id,e),h(null)):(s.equipmentStorage.create(e),f(e=>e+1)),S()},onCancel:()=>{h(null)},onActivate:e=>{let t=s.equipmentStorage.getById(e);t&&(s.equipmentStorage.update(e,{...t,Status:l.EquipmentStatus.Available}),S(),g?.Id===e&&h({...t,Status:l.EquipmentStatus.Available}))},onDeactivate:e=>{let t=s.equipmentStorage.getById(e);t&&(s.equipmentStorage.update(e,{...t,Status:l.EquipmentStatus.Deactivated}),S(),g?.Id===e&&h({...t,Status:l.EquipmentStatus.Deactivated}))}},b)}),(0,t.jsxs)("div",{className:"lg:col-span-2 overflow-auto",children:[(0,t.jsx)(i,{statusFilter:v,userFilter:N,users:c,currentUserId:x,onStatusFilterChange:y,onUserFilterChange:j,onReset:()=>{y(l.EquipmentStatus.Available),j(x)}}),(0,t.jsx)(n,{items:I,equipmentModels:u,users:c,onEdit:e=>{h(e)}})]})]})]})}e.s(["default",()=>d],92130)}]);