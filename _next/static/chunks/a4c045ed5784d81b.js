(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26073,e=>{"use strict";var t=e.i(43476),l=e.i(71645),a=e.i(85369),r=e.i(11110);function s({editingItem:e,equipmentTypes:a,onSubmit:s,onCancel:i}){let{t:n}=(0,r.useLanguage)(),[o,d]=(0,l.useState)({TypeId:"",Name:"",Description:"",ModelNumber:""});(0,l.useEffect)(()=>{e?d({TypeId:e.TypeId,Name:e.Name,Description:e.Description,ModelNumber:e.ModelNumber}):d({TypeId:"",Name:"",Description:"",ModelNumber:""})},[e]);let m=e=>{let{name:t,value:l}=e.target;d(e=>({...e,[t]:l}))};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:n(e?"equipment_model.form.title.edit":"equipment_model.form.title.add")}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(o),d({TypeId:"",Name:"",Description:"",ModelNumber:""})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"TypeId",className:"block text-sm font-medium text-gray-700 mb-1",children:n("form.equipment_type")}),(0,t.jsxs)("select",{id:"TypeId",name:"TypeId",value:o.TypeId,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,t.jsx)("option",{value:"",children:n("placeholder.select_type")}),a.map(e=>(0,t.jsx)("option",{value:e.Id,children:e.Name},e.Id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"Name",className:"block text-sm font-medium text-gray-700 mb-1",children:n("form.name")}),(0,t.jsx)("input",{type:"text",id:"Name",name:"Name",value:o.Name,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:n("placeholder.enter_model_name")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ModelNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:n("form.model_number")}),(0,t.jsx)("input",{type:"text",id:"ModelNumber",name:"ModelNumber",value:o.ModelNumber,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:n("placeholder.enter_model_number")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"Description",className:"block text-sm font-medium text-gray-700 mb-1",children:n("form.description")}),(0,t.jsx)("textarea",{id:"Description",name:"Description",value:o.Description,onChange:m,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:n("placeholder.enter_description")})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:n(e?"button.update":"button.create")}),e&&(0,t.jsx)("button",{type:"button",onClick:i,className:"px-6 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors font-medium",children:n("button.cancel")})]})]})]})}function i({items:e,equipmentTypes:l,onEdit:a}){let{t:s}=(0,r.useLanguage)();return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model.table.header.type")}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model.table.header.name")}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model.table.header.model_number")}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model.table.header.description")})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:s("equipment_model.table.empty")})}):e.map(e=>{var r;let i;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>a(e),children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(r=e.TypeId,(i=l.find(e=>e.Id===r))?i.Name:s("equipment_model.table.unknown"))}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.Name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ModelNumber}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.Description})]},e.Id)})})]})})})}function n({imageUrl:e,onClose:l}){let{t:a}=(0,r.useLanguage)();return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:l,children:(0,t.jsxs)("div",{className:"relative max-w-7xl max-h-full",children:[(0,t.jsx)("button",{onClick:l,className:"absolute -top-10 right-0 text-white hover:text-gray-300 text-4xl font-bold","aria-label":a("image_modal.close"),children:"Ã—"}),(0,t.jsx)("img",{src:e,alt:a("image_modal.alt"),className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:e=>e.stopPropagation()})]})})}let o=["https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400","https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?w=400","https://images.unsplash.com/photo-1565008576549-57569a49371d?w=400","https://images.unsplash.com/photo-1581092160607-ee67e0e84086?w=400","https://images.unsplash.com/photo-1581092162384-8987c1d64718?w=400"];function d({modelId:e,editingItem:a,onSubmit:s,onCancel:i}){let{t:d}=(0,r.useLanguage)(),[m,c]=(0,l.useState)({ModelId:e||"",Url:"",FileExtension:".jpg",FileSizeKB:0}),[u,x]=(0,l.useState)(null);return((0,l.useEffect)(()=>{a?c({ModelId:a.ModelId,Url:a.Url,FileExtension:a.FileExtension,FileSizeKB:a.FileSizeKB}):c({ModelId:e||"",Url:"",FileExtension:".jpg",FileSizeKB:0})},[a,e]),e)?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:d(a?"equipment_model_image.form.title.edit":"equipment_model_image.form.title.add")}),(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s(m),c({ModelId:e||"",Url:"",FileExtension:".jpg",FileSizeKB:0})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("equipment_model_image.form.upload")}),(0,t.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors",children:(0,t.jsxs)("div",{className:"space-y-1 text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,t.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,t.jsx)("span",{children:d("equipment_model_image.form.upload_file")}),(0,t.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",accept:"image/*",className:"sr-only",onChange:e=>{let t=e.target.files?.[0];if(t){let e=o[Math.floor(Math.random()*o.length)],l=Math.round(t.size/1024),a=`.${t.name.split(".").pop()}`||".jpg";c(t=>({...t,Url:e,FileExtension:a,FileSizeKB:l}))}}})]}),(0,t.jsx)("p",{className:"pl-1",children:d("equipment_model_image.form.drag_drop")})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:d("equipment_model_image.form.file_types")})]})}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=o[Math.floor(Math.random()*o.length)],t=Math.floor(500*Math.random())+100;c(l=>({...l,Url:e,FileSizeKB:t}))},className:"mt-2 w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors text-sm",children:d("button.use_random_demo")})]}),m.Url&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("equipment_model_image.form.file_extension")}),(0,t.jsx)("input",{type:"text",value:m.FileExtension,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("equipment_model_image.form.file_size")}),(0,t.jsx)("input",{type:"text",value:m.FileSizeKB,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"})]})]}),m.Url&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("equipment_model_image.form.preview")}),(0,t.jsx)("img",{src:m.Url,alt:d("equipment_model_image.form.preview"),className:"w-full h-48 object-cover rounded-md border border-gray-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>x(m.Url)}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 text-center",children:d("equipment_model_image.form.preview_hint")})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:d(a?"button.update":"button.add_image")}),a&&(0,t.jsx)("button",{type:"button",onClick:i,className:"px-6 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors font-medium",children:d("button.cancel")})]})]}),u&&(0,t.jsx)(n,{imageUrl:u,onClose:()=>x(null)})]}):(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,t.jsx)("p",{className:"text-gray-500 text-center",children:d("equipment_model_image.form.select_model")})})}function m({items:e,onEdit:a}){let{t:s}=(0,r.useLanguage)(),[i,o]=(0,l.useState)(null);return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,t.jsx)("h3",{className:"text-xl font-bold p-4 bg-gray-50 border-b border-gray-200 text-gray-800",children:s("equipment_model_image.table.title")}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model_image.table.header.preview")}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model_image.table.header.url")}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model_image.table.header.extension")}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("equipment_model_image.table.header.size")})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:s("equipment_model_image.table.empty")})}):e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",onClick:()=>a(e),children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("img",{src:e.Url,alt:s("equipment_model_image.table.alt"),className:"h-16 w-16 object-cover rounded border border-gray-300 cursor-pointer hover:opacity-75 transition-opacity",onClick:t=>{t.stopPropagation(),o(e.Url)}})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate cursor-pointer",title:e.Url,children:e.Url}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer",children:e.FileExtension}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer",children:e.FileSizeKB})]},e.Id))})]})}),i&&(0,t.jsx)(n,{imageUrl:i,onClose:()=>o(null)})]})}function c(){let{t:e}=(0,r.useLanguage)(),[n,o]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),[x,p]=(0,l.useState)([]),[g,h]=(0,l.useState)(null),[b,y]=(0,l.useState)(null),[f,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{N()},[]),(0,l.useEffect)(()=>{f?v(f):(u([]),y(null))},[f]);let N=()=>{let e=a.equipmentModelStorage.getAll(),t=a.equipmentTypeStorage.getAll();o(e),p(t)},v=e=>{u(a.equipmentModelImageStorage.getByModelId(e))};return(0,t.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:e("page.equipment_model.title")}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(s,{editingItem:g,equipmentTypes:x,onSubmit:e=>{g?(a.equipmentModelStorage.update(g.Id,e),h(null)):a.equipmentModelStorage.create(e),N()},onCancel:()=>{h(null),j(null)}})}),(0,t.jsx)("div",{className:"lg:col-span-2 overflow-auto",children:(0,t.jsx)(i,{items:n,equipmentTypes:x,onEdit:e=>{h(e),j(e.Id)}})})]}),f?(0,t.jsxs)("div",{className:"mt-8 border-blue-500 pt-6",children:[(0,t.jsxs)("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-blue-900",children:[e("equipment_model_image.section.title")," ",(0,t.jsx)("span",{className:"text-blue-600",children:(()=>{if(!f)return null;let e=n.find(e=>e.Id===f);return e?`${e.Name} (${e.ModelNumber})`:null})()})]}),(0,t.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:e("equipment_model_image.section.description")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(d,{modelId:f,editingItem:b,onSubmit:e=>{b?(a.equipmentModelImageStorage.update(b.Id,e),y(null)):a.equipmentModelImageStorage.create(e),f&&v(f)},onCancel:()=>{y(null)}})}),(0,t.jsx)("div",{className:"lg:col-span-2 overflow-auto",children:(0,t.jsx)(m,{items:c,onEdit:e=>{y(e)}})})]})]}):(0,t.jsx)("div",{className:"mt-8 border-t-4 border-gray-300 pt-6",children:(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:e("equipment_model_image.section.no_model")}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e("equipment_model_image.section.no_model_description")})]})})]})}e.s(["default",()=>c],26073)}]);