(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20995,e=>{"use strict";var t,a=((t={}).Available="Available",t.CheckedOut="CheckedOut",t.Deactivated="Deactivated",t);e.s(["EquipmentStatus",()=>a])},33209,e=>{"use strict";var t,a,l=e.i(43476),s=e.i(71645),d=((t={}).Calibration="Calibration",t.Inspection="Inspection",t),r=((a={}).Scheduled="Scheduled",a.InProgress="InProgress",a.Completed="Completed",a.Cancelled="Cancelled",a),n=e.i(20995),i=e.i(85369);function c({editingItem:e,equipment:t,users:a,onSubmit:i,onCancel:c}){let u=a.find(e=>"Ollie Tan"===e.Name),o=u?.Id||"",[m,x]=(0,s.useState)({UserId:o,EquipmentId:"",ScheduledStartAt:new Date().toISOString().slice(0,16),ScheduledEndAt:new Date(Date.now()+72e5).toISOString().slice(0,16),StartedAt:null,EndedAt:null,Type:d.Inspection,Note:"",Status:r.Scheduled,RemindBefore:7,MeasuredValue:"",AcceptableMinValue:"",AcceptableMaxValue:""}),p=!!e,h=p&&e.Status!==r.Scheduled;(0,s.useEffect)(()=>{e?x({UserId:e.UserId,EquipmentId:e.EquipmentId,ScheduledStartAt:e.ScheduledStartAt,ScheduledEndAt:e.ScheduledEndAt,StartedAt:e.StartedAt,EndedAt:e.EndedAt,Type:e.Type,Note:e.Note,Status:e.Status,RemindBefore:e.RemindBefore,MeasuredValue:e.MeasuredValue,AcceptableMinValue:e.AcceptableMinValue,AcceptableMaxValue:e.AcceptableMaxValue}):x({UserId:o,EquipmentId:"",ScheduledStartAt:new Date().toISOString().slice(0,16),ScheduledEndAt:new Date(Date.now()+72e5).toISOString().slice(0,16),StartedAt:null,EndedAt:null,Type:d.Inspection,Note:"",Status:r.Scheduled,RemindBefore:7,MeasuredValue:"",AcceptableMinValue:"",AcceptableMaxValue:""})},[e,o]);let g=e=>{let{name:t,value:a}=e.target;x(e=>({...e,[t]:"RemindBefore"===t?Number(a):a}))},b=t.filter(t=>t.Status===n.EquipmentStatus.Available||e&&t.Id===e.EquipmentId);return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 overflow-y-auto max-h-[calc(100vh-12rem)]",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:e?"Edit Event":"Schedule Event"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(m)},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Event Details"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"UserId",className:"block text-sm font-medium text-gray-700 mb-1",children:"User *"}),(0,l.jsxs)("select",{id:"UserId",name:"UserId",value:m.UserId,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,l.jsx)("option",{value:"",children:"Select user"}),a.map(e=>(0,l.jsx)("option",{value:e.Id,children:e.Name},e.Id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"EquipmentId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Equipment *"}),(0,l.jsxs)("select",{id:"EquipmentId",name:"EquipmentId",value:m.EquipmentId,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,l.jsx)("option",{value:"",children:"Select equipment"}),b.map(e=>(0,l.jsxs)("option",{value:e.Id,children:[e.Name," (",e.SerialNumber,")"]},e.Id))]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"ScheduledStartAt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Start *"}),(0,l.jsx)("input",{type:"datetime-local",id:"ScheduledStartAt",name:"ScheduledStartAt",value:m.ScheduledStartAt,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"ScheduledEndAt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled End *"}),(0,l.jsx)("input",{type:"datetime-local",id:"ScheduledEndAt",name:"ScheduledEndAt",value:m.ScheduledEndAt,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"Type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type *"}),(0,l.jsxs)("select",{id:"Type",name:"Type",value:m.Type,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,l.jsx)("option",{value:d.Calibration,children:"Calibration"}),(0,l.jsx)("option",{value:d.Inspection,children:"Inspection"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"RemindBefore",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remind Before"}),(0,l.jsx)("input",{type:"number",id:"RemindBefore",name:"RemindBefore",value:m.RemindBefore,onChange:g,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"Note",className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),(0,l.jsx)("textarea",{id:"Note",name:"Note",value:m.Note,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"Enter notes"})]})]})]}),p&&h&&(0,l.jsxs)("div",{className:"pt-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Measurement Values"}),(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"MeasuredValue",className:"block text-sm font-medium text-gray-700 mb-1",children:"Measured Value"}),(0,l.jsx)("input",{type:"text",id:"MeasuredValue",name:"MeasuredValue",value:m.MeasuredValue,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"e.g., 25.5"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"AcceptableMinValue",className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Acceptable"}),(0,l.jsx)("input",{type:"text",id:"AcceptableMinValue",name:"AcceptableMinValue",value:m.AcceptableMinValue,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"e.g., 20"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"AcceptableMaxValue",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Acceptable"}),(0,l.jsx)("input",{type:"text",id:"AcceptableMaxValue",name:"AcceptableMaxValue",value:m.AcceptableMaxValue,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",placeholder:"e.g., 30"})]})]})})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:e?"Update":"Schedule"}),e&&(0,l.jsx)("button",{type:"button",onClick:c,className:"px-6 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors font-medium",children:"Cancel"})]})]})]})}function u({items:e,equipment:t,users:a,onEdit:n,onStart:i,onComplete:c}){let[u,o]=(0,s.useState)(null),m=e=>e?new Date(e).toLocaleString():"-",x=(e,t,a)=>{if(!e||!t||!a)return null;let l=parseFloat(e),s=parseFloat(t),d=parseFloat(a);return isNaN(l)||isNaN(s)||isNaN(d)?null:l>=s&&l<=d};return(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipment"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Start"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled End"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"No events found. Create one to get started."})}):e.map(e=>{var p,h,g,b;let f,y,j,S,N;return(0,l.jsxs)(s.default.Fragment,{children:[(0,l.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>n(e),children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(p=e.EquipmentId,(f=t.find(e=>e.Id===p))?`${f.Name} (${f.SerialNumber})`:"Unknown")}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(h=e.Type,y={[d.Calibration]:"bg-purple-100 text-purple-800",[d.Inspection]:"bg-blue-100 text-blue-800"},(0,l.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y[h]}`,children:h}))}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(g=e.UserId,(j=a.find(e=>e.Id===g))?j.Name:"Unknown")}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(e.ScheduledStartAt)}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(e.ScheduledEndAt)}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(b=e.Status,S={[r.Scheduled]:"bg-gray-100 text-gray-800",[r.InProgress]:"bg-blue-100 text-blue-800",[r.Completed]:"bg-green-100 text-green-800",[r.Cancelled]:"bg-red-100 text-red-800"},N={[r.Scheduled]:"Scheduled",[r.InProgress]:"In Progress",[r.Completed]:"Completed",[r.Cancelled]:"Cancelled"},(0,l.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S[b]}`,children:N[b]}))}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[e.Status===r.Scheduled&&(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e.Id)},className:"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors text-xs font-medium",children:"Start"}),e.Status===r.InProgress&&(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e.Id)},className:"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 transition-colors text-xs font-medium",children:"Complete"}),(0,l.jsx)("button",{onClick:t=>{var a;return a=e.Id,void(t.stopPropagation(),o(u===a?null:a))},className:"text-blue-600 hover:text-blue-800 font-medium text-xs",children:u===e.Id?"Hide":"Details"})]})})]}),u===e.Id&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:7,className:"px-6 py-4 bg-gray-50",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-700 mb-3",children:"Scheduling Info"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Scheduled Start:"})," ",m(e.ScheduledStartAt)]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Scheduled End:"})," ",m(e.ScheduledEndAt)]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Remind Before:"})," ",e.RemindBefore," days"]}),e.Note&&(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("span",{className:"font-medium",children:"Note:"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:e.Note})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-gray-700 mb-3",children:"Execution Details"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Started At:"})," ",m(e.StartedAt)]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Ended At:"})," ",m(e.EndedAt)]}),(e.MeasuredValue||e.AcceptableMinValue||e.AcceptableMaxValue)&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-white rounded border border-gray-200",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"Measurement Values"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Measured:"}),(0,l.jsx)("span",{className:`ml-2 ${!0===x(e.MeasuredValue,e.AcceptableMinValue,e.AcceptableMaxValue)?"text-green-600 font-semibold":!1===x(e.MeasuredValue,e.AcceptableMinValue,e.AcceptableMaxValue)?"text-red-600 font-semibold":"text-gray-900"}`,children:e.MeasuredValue||"-"})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Min Acceptable:"})," ",e.AcceptableMinValue||"-"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Max Acceptable:"})," ",e.AcceptableMaxValue||"-"]}),!0===x(e.MeasuredValue,e.AcceptableMinValue,e.AcceptableMaxValue)&&(0,l.jsx)("p",{className:"text-green-600 text-xs mt-1",children:"✓ Within acceptable range"}),!1===x(e.MeasuredValue,e.AcceptableMinValue,e.AcceptableMaxValue)&&(0,l.jsx)("p",{className:"text-red-600 text-xs mt-1",children:"✗ Outside acceptable range"})]})]})]})]})]})})},`${e.Id}-details`)]},e.Id)})})]})})})}function o({statusFilter:e,userFilter:t,startedAfter:a,endedAfter:s,users:d,onStatusFilterChange:n,onUserFilterChange:i,onStartedAfterChange:c,onEndedAfterChange:u,onReset:o}){let m,x=[{value:"All",label:"All Status"},{value:r.Scheduled,label:"Scheduled"},{value:r.InProgress,label:"In Progress"},{value:r.Completed,label:"Completed"},{value:r.Cancelled,label:"Cancelled"}],p=(e,t)=>e?`${t}: After ${new Date(e).toLocaleDateString()}`:`${t}: Any`,h=()=>"All"===e&&""===t&&""===a&&""===s;return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-end gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,l.jsx)("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,l.jsx)("select",{id:"status-filter",value:e,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:x.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,l.jsx)("label",{htmlFor:"user-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),(0,l.jsxs)("select",{id:"user-filter",value:t,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900",children:[(0,l.jsx)("option",{value:"",children:"All Users"}),d.map(e=>(0,l.jsx)("option",{value:e.Id,children:e.Name},e.Id))]})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,l.jsx)("label",{htmlFor:"started-after-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Started After"}),(0,l.jsx)("input",{type:"date",id:"started-after-filter",value:a,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[(0,l.jsx)("label",{htmlFor:"ended-after-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ended After"}),(0,l.jsx)("input",{type:"date",id:"ended-after-filter",value:s,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:o,disabled:h(),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${h()?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-700"}`,children:"Reset Filters"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active Filters:"}),(0,l.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:(m=x.find(t=>t.value===e))?m.label:e}),(0,l.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:(e=>{if(!e)return"All Users";let t=d.find(t=>t.Id===e);return t?t.Name:"All Users"})(t)}),(0,l.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:p(a,"Started")}),(0,l.jsx)("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:p(s,"Ended")})]})]})}function m(){let[e,t]=(0,s.useState)([]),[a,d]=(0,s.useState)([]),[m,x]=(0,s.useState)([]),[p,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(0),[f,y]=(0,s.useState)("All"),[j,S]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[A,I]=(0,s.useState)("");(0,s.useEffect)(()=>{w()},[]);let w=()=>{let e=i.eventStorage.getAll(),a=i.equipmentStorage.getAll(),l=i.userStorage.getAll();e.sort((e,t)=>new Date(t.ScheduledStartAt).getTime()-new Date(e.ScheduledStartAt).getTime()),t(e),d(a),x(l)},E=e.filter(e=>{let t="All"===f||e.Status===f,a=!j||e.UserId===j,l=!N||e.StartedAt&&new Date(e.StartedAt)>=new Date(N),s=!A||e.EndedAt&&new Date(e.EndedAt)>=new Date(A);return t&&a&&l&&s});return(0,l.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Event Management"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsx)(c,{editingItem:p,equipment:a,users:m,onSubmit:e=>{if(p)i.eventStorage.update(p.Id,e),h(null);else{let t=i.eventStorage.create(e),a={UserId:e.UserId,EquipmentId:e.EquipmentId,CheckedOutAt:new Date().toISOString(),CheckedInAt:null,ReferenceType:"Event",ReferenceId:t.Id};i.checkoutLogStorage.create(a);let l=i.equipmentStorage.getById(e.EquipmentId);l&&i.equipmentStorage.update(e.EquipmentId,{...l,Status:n.EquipmentStatus.CheckedOut}),b(e=>e+1)}w()},onCancel:()=>{h(null)}},g)}),(0,l.jsxs)("div",{className:"lg:col-span-2 overflow-auto",children:[(0,l.jsx)(o,{statusFilter:f,userFilter:j,startedAfter:N,endedAfter:A,users:m,onStatusFilterChange:y,onUserFilterChange:S,onStartedAfterChange:v,onEndedAfterChange:I,onReset:()=>{y("All"),S(""),v(""),I("")}}),(0,l.jsx)(u,{items:E,equipment:a,users:m,onEdit:e=>{h(e)},onStart:e=>{let t=i.eventStorage.getById(e);if(t){let a={...t,Status:r.InProgress,StartedAt:new Date().toISOString().slice(0,16)};i.eventStorage.update(e,a),w(),p?.Id===e&&h({...t,Status:r.InProgress,StartedAt:a.StartedAt})}},onComplete:e=>{let t=i.eventStorage.getById(e);if(t){let a={...t,Status:r.Completed,EndedAt:new Date().toISOString().slice(0,16)};i.eventStorage.update(e,a),i.checkoutLogStorage.checkInByReferenceId(e);let l=i.equipmentStorage.getById(t.EquipmentId);l&&i.equipmentStorage.update(t.EquipmentId,{...l,Status:n.EquipmentStatus.Available}),w(),p?.Id===e&&h({...t,Status:r.Completed,EndedAt:a.EndedAt})}}})]})]})]})}e.s(["default",()=>m],33209)}]);